<Window x:Class="HospitalSchedulerUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:HospitalSchedulerUI"
        Title="Hospital Resource Scheduler" Height="850" Width="1200"
        Background="#FFF5F5F5">
    <Window.Resources>
        <!-- Color palette from user -->
        <SolidColorBrush x:Key="PrimaryDark" Color="#2F3E3C"/>
        <SolidColorBrush x:Key="PrimaryLight" Color="#BDDBD1"/>
        <SolidColorBrush x:Key="Accent" Color="#C7E7EC"/>
        <SolidColorBrush x:Key="SoftBg" Color="#E8F0F1"/>
        <SolidColorBrush x:Key="PanelBg" Color="#FBF9F1"/>
        <Style x:Key="NavButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="4" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{StaticResource PrimaryLight}"/>
                    <Setter Property="Foreground" Value="{StaticResource PrimaryDark}"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="{StaticResource Accent}"/>
                    <Setter Property="Foreground" Value="{StaticResource PrimaryDark}"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <DockPanel>
        <!-- NAV BAR -->
        <Border DockPanel.Dock="Top" Background="{StaticResource PrimaryDark}" Height="70" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="Medi-Match" Foreground="White" FontWeight="Bold" FontSize="18" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,20,0">
                    <Button x:Name="NavHome" Content="Home" Width="100" Margin="10,0" Click="NavHome_Click" Style="{StaticResource NavButtonStyle}"/>
                    <Button x:Name="NavScheduler" Content="Scheduler" Width="110" Margin="10,0" Click="NavScheduler_Click" Style="{StaticResource NavButtonStyle}"/>
                    <Button x:Name="NavSchedule" Content="Schedule" Width="110" Margin="10,0" Click="NavSchedule_Click" Style="{StaticResource NavButtonStyle}"/>
                    <Button x:Name="NavGraph" Content="Graph" Width="100" Margin="10,0" Click="NavGraph_Click" Style="{StaticResource NavButtonStyle}"/>
                    <Button x:Name="NavEmergency" Content="🚨 Triage" Width="110" Margin="10,0" 
                     Click="NavEmergency_Click" Style="{StaticResource NavButtonStyle}"/>

                    
                </StackPanel>
            </Grid>
        </Border>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <Grid Margin="15">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- HOME PANEL -->
                <Border x:Name="HomePanel" Grid.Row="0" Grid.RowSpan="4" Margin="0,0,0,10" BorderBrush="Transparent" BorderThickness="0" CornerRadius="5"
                        Background="{StaticResource PrimaryLight}" Padding="0">
                    <Grid>
                        <!-- Background image from Assets folder (set file Build Action=Content and Copy to Output Directory=Copy if newer) -->
                        <Grid.Background>
                            <ImageBrush ImageSource="pack://siteoforigin:,,,/Assets/hero.jpg" Stretch="UniformToFill"/>
                        </Grid.Background>
                        <!-- Color overlay tint (keeps look consistent) -->
                        <Rectangle Fill="{StaticResource PrimaryLight}" Opacity="0.6" />
                        <!-- Hero content -->
                        <StackPanel HorizontalAlignment="Left" VerticalAlignment="Center" Margin="80" Width="600">
                            <TextBlock Text="Smart Matching, Smarter Healing" Foreground="White" FontSize="36" FontWeight="Bold" TextWrapping="Wrap"/>
                            <TextBlock Text="We believe in the patient-first approach. Quick, reliable and compassionate." Foreground="White" Opacity="0.95" Margin="0,12,0,20" TextWrapping="Wrap"/>
                            <StackPanel Orientation="Horizontal">
                                <Button x:Name="BtnReadMore" Content="Read More" Width="140" Height="40" Background="White" Foreground="{StaticResource PrimaryDark}" FontWeight="Bold" Style="{StaticResource NavButtonStyle}" Click="BtnReadMore_Click"/>
                                <Button Content="Scheduler" Width="140" Height="40" Margin="12,0,0,0" Style="{StaticResource NavButtonStyle}" BorderBrush="White" BorderThickness="1" Background="Transparent" Foreground="White" Click="NavScheduler_Click"/>
                            </StackPanel>
                        </StackPanel>
                        <!-- bottom wave-like panel mimic removed to avoid white footer -->
                    </Grid>
                </Border>

                <!-- SCHEDULER PANEL (contains existing input, doctors, patients) -->
                <StackPanel x:Name="SchedulerPanel" Grid.Row="0">
                    <!-- SECTION 1: BASIC COUNTS -->
                    <Border Margin="0,0,0,10" BorderBrush="#FFCCCCCC" BorderThickness="1" CornerRadius="5"
                            Background="{StaticResource PanelBg}" Padding="15">
                        <StackPanel>
                            <TextBlock Text="HOSPITAL RESOURCE COUNTS" FontSize="18" FontWeight="Bold"
                                       HorizontalAlignment="Center" Margin="0,0,0,10" Foreground="{StaticResource PrimaryDark}"/>
                            <Grid Margin="0,0,0,5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="10">
                                    <TextBlock Text="Number of Doctors:" FontWeight="Bold" Margin="0,0,0,5" Foreground="{StaticResource PrimaryDark}"/>
                                    <TextBox x:Name="TxtDoctors" Text="1" Width="140" HorizontalAlignment="Left"/>
                                    <TextBlock Text="e.g. 3" FontSize="11" Foreground="Gray" Margin="0,4,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="10">
                                    <TextBlock Text="Number of Patients:" FontWeight="Bold" Margin="0,0,0,5" Foreground="{StaticResource PrimaryDark}"/>
                                    <TextBox x:Name="TxtPatients" Text="1" Width="140" HorizontalAlignment="Left"/>
                                    <TextBlock Text="e.g. 6" FontSize="11" Foreground="Gray" Margin="0,4,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2" Margin="10">
                                    <TextBlock Text="Number of Beds:" FontWeight="Bold" Margin="0,0,0,5" Foreground="{StaticResource PrimaryDark}"/>
                                    <TextBox x:Name="TxtBeds" Text="4" Width="140" HorizontalAlignment="Left"/>
                                    <TextBlock Text="e.g. 4" FontSize="11" Foreground="Gray" Margin="0,4,0,0"/>
                                </StackPanel>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="200"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="10">
                                    <TextBlock Text="Patient Urgency (1-10):" FontWeight="Bold" Foreground="{StaticResource PrimaryDark}"/>
                                    <TextBox x:Name="TxtUrgency" Text="8,5,10,3,9,7" Height="60" TextWrapping="Wrap" Padding="5"/>
                                    <TextBlock Text="Comma separated values (one per patient). e.g. 8,5,10,3" FontSize="11" Foreground="Gray" Margin="0,4,0,0"/>
                                </StackPanel>
                                <!-- placeholder column to keep layout balanced -->
                                <StackPanel Grid.Column="1" />
                            </Grid>
                        </StackPanel>
                    </Border>
                    <!-- TWO COLUMNS: DOCTORS | PATIENTS -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <!-- DOCTOR DETAILS -->
                        <Border Grid.Column="0" Margin="0,0,10,0" BorderBrush="#4CAF50" BorderThickness="1" CornerRadius="5"
                                Background="{StaticResource SoftBg}" Padding="15">
                            <StackPanel>
                                <TextBlock Text="DOCTOR INFORMATION" FontSize="16" FontWeight="Bold"
                                           HorizontalAlignment="Left" Margin="0,0,0,10" Foreground="{StaticResource PrimaryDark}"/>
                                <TextBlock Text="Enter each doctor's name and select specialty" FontSize="12" Foreground="Gray" Margin="0,0,0,8"/>
                                <WrapPanel x:Name="DoctorPanel" Margin="0,10,0,0" HorizontalAlignment="Stretch"/>
                            </StackPanel>
                        </Border>
                        <!-- PATIENT DETAILS -->
                        <Border Grid.Column="1" Margin="10,0,0,0" BorderBrush="#2196F3" BorderThickness="1" CornerRadius="5"
                                Background="{StaticResource SoftBg}" Padding="15">
                            <StackPanel>
                                <TextBlock Text="PATIENT INFORMATION" FontSize="16" FontWeight="Bold"
                                           HorizontalAlignment="Left" Margin="0,0,0,10" Foreground="{StaticResource PrimaryDark}"/>
                                <TextBlock Text="Enter patient name, disease, age; urgency shown per patient" FontSize="12" Foreground="Gray" Margin="0,0,0,8"/>
                                <WrapPanel x:Name="PatientPanel" Margin="0,10,0,0" HorizontalAlignment="Stretch"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                    <!-- RUN BUTTON centered below columns -->
                    <StackPanel HorizontalAlignment="Center" Margin="0,10,0,20">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,12">
                            <TextBlock Text="Algorithm:" VerticalAlignment="Center" Margin="0,0,8,0" FontWeight="SemiBold" Foreground="{StaticResource PrimaryDark}"/>
                            <ComboBox x:Name="CmbAlgorithm" Width="260" SelectedIndex="0">
                                <ComboBoxItem>Heuristic Scheduler (default)</ComboBoxItem>
                                <ComboBoxItem>Genetic Algorithm (GA)</ComboBoxItem>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,12">
                            <TextBlock Text="GA Population:" VerticalAlignment="Center" Margin="0,0,8,0" FontWeight="SemiBold" Foreground="{StaticResource PrimaryDark}"/>
                            <TextBox x:Name="TxtGAPopulation" Width="80" Text="80" Margin="0,0,12,0"/>
                            <TextBlock Text="Generations:" VerticalAlignment="Center" Margin="0,0,8,0" FontWeight="SemiBold" Foreground="{StaticResource PrimaryDark}"/>
                            <TextBox x:Name="TxtGAGenerations" Width="80" Text="120" Margin="0,0,12,0"/>
                            <TextBlock Text="Mutation:" VerticalAlignment="Center" Margin="0,0,8,0" FontWeight="SemiBold" Foreground="{StaticResource PrimaryDark}"/>
                            <TextBox x:Name="TxtGAMutation" Width="80" Text="0.06" Margin="0,0,12,0">
                                <TextBox.ToolTip>
                                    <ToolTip>Mutation rate: decimal 0.0–1.0 (e.g. 0.06). You may enter percent like 6 meaning 6%.</ToolTip>
                                </TextBox.ToolTip>
                            </TextBox>
                            <TextBlock Text="Seed:" VerticalAlignment="Center" Margin="0,0,8,0" FontWeight="SemiBold" Foreground="{StaticResource PrimaryDark}"/>
                            <TextBox x:Name="TxtGASeed" Width="100" Text="" />
                        </StackPanel>

                        <Button x:Name="RunButton" Content="RUN AI SCHEDULER" Click="RunScheduler_Click"
                                Width="260" Height="60" FontSize="16" FontWeight="Bold"
                                Background="{StaticResource PrimaryDark}" Foreground="#FF007ACC"/>
                    </StackPanel>
                </StackPanel>

                <!-- SCHEDULE PANEL -->
                <DataGrid x:Name="ScheduleGrid" Grid.Row="1" Grid.RowSpan="3" Margin="0,10"
                          AutoGenerateColumns="True" IsReadOnly="True" FontSize="14" Visibility="Collapsed"/>

                <!-- TRIAGE PANEL (embedded user control) -->
                <Border x:Name="TriagePanel" Grid.Row="1" Grid.RowSpan="3" Margin="0,10" Visibility="Collapsed" Background="Transparent">
                    <ContentControl x:Name="TriageHost" />
                </Border>

                <!-- GRAPH PANEL -->
                <Grid x:Name="GraphPanel" Grid.Row="2" Grid.RowSpan="2" Visibility="Collapsed">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Image x:Name="ConvergenceChart" Grid.Column="0" Stretch="Uniform" Margin="10" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    <DataGrid x:Name="MetricsTable" Grid.Column="1" Margin="10" HorizontalAlignment="Stretch" VerticalAlignment="Center"
                              AutoGenerateColumns="True" IsReadOnly="True"/>
                </Grid>
            </Grid>
        </ScrollViewer>
    </DockPanel>
</Window>